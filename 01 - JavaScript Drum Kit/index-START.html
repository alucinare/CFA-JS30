<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Drum Kit</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>


  <div class="keys">
    <div data-key="65" class="key">
      <kbd>A</kbd>
      <span class="sound">clap</span>
    </div>
    <div data-key="83" class="key">
      <kbd>S</kbd>
      <span class="sound">hihat</span>
    </div>
    <div data-key="68" class="key">
      <kbd>D</kbd>
      <span class="sound">kick</span>
    </div>
    <div data-key="70" class="key">
      <kbd>F</kbd>
      <span class="sound">openhat</span>
    </div>
    <div data-key="71" class="key">
      <kbd>G</kbd>
      <span class="sound">boom</span>
    </div>
    <div data-key="72" class="key">
      <kbd>H</kbd>
      <span class="sound">ride</span>
    </div>
    <div data-key="74" class="key">
      <kbd>J</kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="75" class="key">
      <kbd>K</kbd>
      <span class="sound">tom</span>
    </div>
    <div data-key="76" class="key">
      <kbd>L</kbd>
      <span class="sound">tink</span>
    </div>
  </div>

  <audio data-key="65" src="sounds/clap.wav"></audio>
  <audio data-key="83" src="sounds/hihat.wav"></audio>
  <audio data-key="68" src="sounds/kick.wav"></audio>
  <audio data-key="70" src="sounds/openhat.wav"></audio>
  <audio data-key="71" src="sounds/boom.wav"></audio>
  <audio data-key="72" src="sounds/ride.wav"></audio>
  <audio data-key="74" src="sounds/snare.wav"></audio>
  <audio data-key="75" src="sounds/tom.wav"></audio>
  <audio data-key="76" src="sounds/tink.wav"></audio>


<script>
  // a click event is something that when it is fired off it say I have been click
  // here we are listening to the window element for the event of a keydown and when the key is pressed down the function is activated. In this example the console log command is ran. and that shows us what keye is pressed. 'e' is the object full of data
    // EXAMPLE - console.log(e.keyCode);
function playSound(e) {
   // we want to use the querySelector to choose a data-key and to make it dynamic we have to use the interpolation function so that the eventlistener will put it into this function(e) and return the keycode for the key pressed.
   const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
   // this is selecting the div in which the buttons are
   const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
   if(!audio) return; // stop function running if there is no audio or if audio is equal to null.
   audio.currentTime = 0; // rewind to the start
   audio.play(); // plays the audio that is identified by the data-key that was taken in by the addEventListener function.
   key.classList.add('playing');
   // if we had a timeout in JS and in the CSS they can get out of sink and instead we can use a transitionEnd event. This is
};


  function removeTransition(e) {
    if(e.propertyName !== 'transform') return; // skip if it is not a transform. This will return the button back to its original form.
    this.classList.remove('playing');
  };

  // this selects all the keys and puts them in variable keys
  const keys = document.querySelectorAll('.key');
  // this cycles through each individual key and adds an event listener to end the transition
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));

  window.addEventListener('keydown', playSound);
</script>


</body>
</html>

<!-- learnt keyEvents, audio, animation, transitions -->
